precision mediump float;

uniform float uSize;
uniform float uAlpha;
uniform vec3 uColor;
uniform mat3 uTransform;

attribute vec3 aPosition;
attribute float aWeight;

varying vec4 vColor;

void main() {
	gl_Position = vec4(uTransform * aPosition, 1.0);
	gl_PointSize = uSize;

	vColor = vec4(uColor, 1) * (1.0 - pow(1.0 - uAlpha, aWeight));
}
