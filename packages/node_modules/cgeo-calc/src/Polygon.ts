// This file is part of cgeo-calc, copyright (c) 2017 BusFaster Ltd.
// Released under the MIT license, see LICENSE.

import * as cgeo from 'cgeo';

@cgeo.mixin()
export class Polygon extends cgeo.Polygon {

	getSimpleArea() {
		let result = 0;
		let sign = 1;

		for(let ring of this.childList) {
			if(ring) result += Math.abs(ring.getFilledArea()) * sign;
			sign = -1;
		}

		return(result);
	}

	updateSimpleCentroid(result: cgeo.Point) {
		let sign = 1;

		for(let ring of this.childList) {
			if(ring) ring.updateFilledCentroid(result, sign);
			sign = -1;
		}
	}

}
