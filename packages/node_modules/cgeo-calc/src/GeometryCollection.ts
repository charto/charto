// This file is part of cgeo-calc, copyright (c) 2017 BusFaster Ltd.
// Released under the MIT license, see LICENSE.

import * as cgeo from 'cgeo';

@cgeo.mixin()
export class GeometryCollection extends cgeo.GeometryCollection {

	getSimpleArea() {
		let result = 0;

		for(let child of this.childList) {
			if(child && child.dimension! >= 2) {
				result += child.getSimpleArea();
			}
		}

		return(result);
	}

	updateSimpleCentroid(result: cgeo.Point) {
		if(!result.dimension || result.dimension < this.dimension!) {
			result.x = 0;
			result.y = 0;
			result.weight = 0;
			result.dimension = this.dimension!;
		}

		for(let child of this.childList) {
			if(child && child.dimension! >= result.dimension) {
				child.updateSimpleCentroid(result);
			}
		}
	}

}
