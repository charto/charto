import { GeoTile } from './GeoTile';
import { CacheTree } from './CacheTree';

export class CacheTile extends GeoTile {

	fetch() {
		if(!this.promise) {
			// this.promise = ajax('/data/tiles/' + this.path + '.txt').then((xhr: XMLHttpRequest) => xhr.responseText).catch(() => '{}');
			this.promise = this.tree.fetch(this);
		}

		return(this.promise);
	}

	promise?: Promise<string>;

	tree: CacheTree;

}
